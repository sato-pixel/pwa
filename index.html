<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="theme-color" content="#0b57d0" />
<title>PWA ã‚µãƒ³ãƒ—ãƒ«ï¼ˆsato-pixel/pwaï½œGitHub Pagesï¼‰</title>
<link rel="manifest" href="./manifest.webmanifest" />
<link rel="icon" href="./icons/icon-192.png" />
<style>
body{font-family:system-ui,Roboto,sans-serif;margin:2rem;line-height:1.6;color:#222;background:#f9fafb;text-align:center}
button{background:#0b57d0;color:white;padding:1em 1.5em;border:none;border-radius:10px;font-size:1rem;cursor:pointer;margin-top:1.5rem}
#status{margin-top:2rem;color:#555}
</style>
</head>
<body>
<script>
  // index.html ã® <body> ã®å…ˆé ­ãªã©ã«é…ç½®
  window.location.href = "https://sites.google.com/nagoyagaiko.net/uyng/ãƒ›ãƒ¼ãƒ ";
</script>

<h1>ğŸ“± ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã§ãã‚‹ã‚µãƒ³ãƒ—ãƒ«</h1>
<p>å…¬é–‹URL: <code>https://sato-pixel.github.io/pwa/</code></p>


<button id="installButton" hidden>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</button>
<div id="status"></div>


<script>
// Service Worker ç™»éŒ²ï¼ˆGitHub Pages ã®ã‚µãƒ–ãƒ‘ã‚¹å¯¾å¿œ: ç›¸å¯¾ãƒ‘ã‚¹æŒ‡å®šï¼‰
if ('serviceWorker' in navigator) {
navigator.serviceWorker.register('./service-worker.js').then(()=>{
console.log('SW registered');
}).catch(console.error);
}


// Install Prompt åˆ¶å¾¡
let deferredPrompt;
const installButton = document.getElementById('installButton');
window.addEventListener('beforeinstallprompt', (e) => {
e.preventDefault();
deferredPrompt = e;
installButton.hidden = false;
document.getElementById('status').textContent = 'ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ã§ã™ï¼';
});
installButton.addEventListener('click', async () => {
if (!deferredPrompt) return;
deferredPrompt.prompt();
const choice = await deferredPrompt.userChoice;
document.getElementById('status').textContent = `çµæœ: ${choice.outcome}`;
deferredPrompt = null;
installButton.hidden = true;
});
</script>
</body>
</html>